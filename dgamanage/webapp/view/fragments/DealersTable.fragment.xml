<core:FragmentDefinition xmlns="sap.m" xmlns:smartTable="sap.ui.comp.smarttable" xmlns:core="sap.ui.core">
    <smartTable:SmartTable
                            id="Dealerstable"
                            editable="false"
                            beforeRebindTable="onBeforeRebindDealersTable"                    
                            tableBindingPath="DGADealers/"
                            tableType="ResponsiveTable"
                            showRowCount="true"
                            useExportToExcel="false"
                            useVariantManagement="false"
                            useTablePersonalisation="true"
                            demandPopin="true"
                            enableAutoBinding="true"
                            placeToolbarInTable="true"
                            persistencyKey="HistoryPersistenceKey"
                            requestAtLeastFields="Dealer/DealerSalesDetails/SalesGroup/Description"
                            initiallyVisibleFields="Dealer/DealerSalesDetails/SalesGroupId"
                             initialNoDataText="{i18n>tableNoDataText}"
                          >
        	<smartTable:customToolbar>
			<OverflowToolbar>
                      
                        <ToolbarSpacer />
                        
                        <Button enabled="{= ${ActivationStatus} === 'DEACTIVATED' ? false:true}" icon="sap-icon://add" type="Emphasized" text="{i18n>LinkDealer}" press="handleDealersValueHelp" />

                        
                    </OverflowToolbar>
		</smartTable:customToolbar>

        <Table growing="true" growingThreshold="10" growingScrollToLoad="false" noDataText="{i18n>tableNoDataText}" >
            <columns>
                <Column hAlign="Begin">
                    <customData>
                        <core:CustomData key="p13nData" value='\{"columnKey": "Dealer/Name", "leadingProperty": "Dealer/Name", "columnIndex": 0 ,"sortProperty": "Dealer/Name","filterProperty": "Dealer/Name"}'/>
                    </customData>
                    <Text text="{i18n>Name}"/>
                </Column>
                <Column hAlign="Begin">
                    <customData>
                        <core:CustomData key="p13nData" value='\{"columnKey": "Dealer/DealerPhoneNumber/SMSNumber", "leadingProperty": "Dealer/DealerPhoneNumber/SMSNumber", "columnIndex": 1 ,"sortProperty": "Dealer/DealerPhoneNumber/SMSNumber","filterProperty": "Dealer/DealerPhoneNumber/SMSNumber"}'/>
                    </customData>
                    <Text text="{i18n>PhoneNumber}"/>
                </Column>
               <Column hAlign="Begin">
                    <customData>
                        <core:CustomData key="p13nData" value='\{"columnKey": "DealerId","leadingProperty":"DealerId",  "columnIndex": 2 ,"sortProperty": "DealerId","filterProperty": "DealerId"}'/>
                    </customData>
                    <Text text="{i18n>SapCode}"/>
                </Column> 
                 <Column hAlign="Begin">
                    <customData>
                        <core:CustomData key="p13nData" value='\{"columnKey": "Dealer/DealerSalesDetails/SalesGroup/Description",  "columnIndex": 3 ,"sortProperty": "Dealer/DealerSalesDetails/SalesGroup/Description","filterProperty": "Dealer/DealerSalesDetails/SalesGroup/Description"}'/>
                    </customData>
                    <Text text="{i18n>SapGroupName}"/>
                </Column>
                <Column hAlign="Begin">
                    <customData>
                        <core:CustomData key="p13nData" value='\{"columnKey": "Dealer/FiscalYear","leadingProperty":"Dealer/FiscalYear",  "columnIndex": 4 ,"sortProperty": "Dealer/FiscalYear","filterProperty": "Dealer/FiscalYear"}'/>
                    </customData>
                    <Text text="{i18n>FiscalYear}"/>
                </Column>
                 <!-- <Column hAlign="Begin">
                    <customData>
                        <core:CustomData key="p13nData" value='\{"columnKey": "Dealer/Visits",  "columnIndex": 5 ,"sortProperty": "Dealer/Visits","filterProperty": "Dealer/Visits"}'/>
                    </customData>
                    <Text text="{i18n>Visits}"/>
                </Column>  -->
                <Column hAlign="Begin">
                    <customData>
                        <core:CustomData key="p13nData" value='\{"columnKey": "TotalMappedContractors","columnIndex": 6 ,"leadingProperty":"TotalMappedContractors"}'/>
                    </customData>
                    <Text text="{i18n>TotalMappedContractor}"/>
                </Column>
                <Column hAlign="Begin">
                    <customData>
                        <core:CustomData key="p13nData" value='\{"columnKey": "LeadsProvided","leadingProperty":"LeadsProvided", "columnIndex": 7}'/>
                    </customData>
                    <Text text="{i18n>LeadsProvided}"/>
                </Column>
                <!-- <Column hAlign="Begin">
                    <customData>
                        <core:CustomData key="p13nData" value='\{"columnKey": "Id", "leadingProperty": "Id", "columnIndex": 8 ,"sortProperty": "Id","filterProperty": "Id"}'/>
                    </customData>
                    <Text text="{i18n>Id}"/>
                </Column> -->
            
               
                

            </columns>
            <items>
                <ColumnListItem>
                    <cells>
                 
                       <Text text="{Dealer/Name}" />
                       <Text text="{Dealer/DealerPhoneNumber/SMSNumber}"/>
                       <Text  text="{DealerId}" /> 
                       <Text text="{Dealer/DealerSalesDetails/SalesGroup/Description}"/>
                        <Text text="{Dealer/FiscalYear}"/>
                        <!-- <Text text="{Dealer/Visits}" />  -->
                        <Text text="{TotalMappedContractors}"/>
                        <Text text="{LeadsProvided}"/>

                       <!-- <Text text="{Id}" /> -->
                        

                    </cells>
                </ColumnListItem>
            </items>
        </Table>
    </smartTable:SmartTable>
</core:FragmentDefinition>
