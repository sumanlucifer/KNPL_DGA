<core:FragmentDefinition xmlns="sap.m"
    xmlns:smartTable="sap.ui.comp.smarttable"
    xmlns:core="sap.ui.core">
    <smartTable:SmartTable id="idWorkListTable1" header="{i18n>MainObject}" enableAutoBinding="true" initialNoDataText="{i18n>tableNoDataText}" width="100%" editable="false" entitySet="BackDateVisitApprovalRequest" beforeRebindTable="onBindTblComplainList" tableType="ResponsiveTable" showRowCount="true" useExportToExcel="false" useVariantManagement="false" useTablePersonalisation="false" demandPopin="false" requestAtLeastFields="ID" >
        <smartTable:customToolbar>
			<OverflowToolbar>
                        <ToolbarSpacer />
                        <!-- <Button icon="sap-icon://add" type="Emphasized" text="{i18n>Add} {i18n>MainObject}" press="onPressAddObject"/> -->
                    </OverflowToolbar>
		</smartTable:customToolbar>

        <Table growing="true" growingThreshold="10" growingScrollToLoad="false" noDataText="{i18n>tableNoDataText}">
           
            <columns>
                <Column hAlign="Begin">
                    <customData>
                        <core:CustomData key="p13nData" value='\{"columnKey": "Visit/Id", "leadingProperty": "Visit/Id", "columnIndex": 0 ,"sortProperty": "Visit/Id","filterProperty": "Visit/Id"}'/>
                    </customData>
                    <Text text="{i18n>RequestID}"/>
                </Column>
                <Column hAlign="Begin">
                    <customData>
                        <core:CustomData key="p13nData" value='\{"columnKey": "Visit/Date", "leadingProperty": "Visit/Date", "columnIndex": 1 ,"sortProperty": "Visit/Date","filterProperty": "Visit/Date"}'/>
                    </customData>
                    <Text text="{i18n>VisitedDate}"/>
                </Column>

                <Column hAlign="Begin">
                    <customData>
                        <core:CustomData key="p13nData" value='\{"columnKey": "Visit/DGA/GivenName", "leadingProperty": "Visit/DGA/GivenName", "columnIndex": 2 ,"sortProperty": "Visit/DGA/GivenName","filterProperty": "Visit/DGA/GivenName"}'/>
                    </customData>
                    <Text text="{i18n>DGAName}"/>
                </Column>
                <Column hAlign="Begin">
                    <customData>
                        <core:CustomData key="p13nData" value='\{"columnKey": "Visit/DGA/Mobile", "leadingProperty": "Visit/DGA/Mobile", "columnIndex": 3 ,"sortProperty": "Visit/DGA/Mobile","filterProperty": "Visit/DGA/Mobile"}'/>
                    </customData>
                    <Text text="{i18n>MobileNo}"/>
                </Column>
                <Column hAlign="Begin">
                    <customData>
                        <core:CustomData key="p13nData" value='\{"columnKey": "Visit/DGA/Zone", "leadingProperty": "Visit/DGA/Zone", "columnIndex": 4 ,"sortProperty": "Visit/DGA/Zone","filterProperty": "Visit/DGA/Zone"}'/>
                    </customData>
                    <Text text="{i18n>Zone}"/>
                </Column>
                 <Column hAlign="Begin">
                    <customData>
                        <core:CustomData key="p13nData" value='\{"columnKey": "Visit/DGA/DivisionId"}, "leadingProperty": "Visit/DGA/DivisionId"'/>
                    </customData>
                    <Text text="{i18n>Division}"/>
                </Column>
                 <Column hAlign="Begin">
                    <customData>
                        <core:CustomData key="p13nData" value='\{"columnKey": "Visit/DGA/DepotId"}, "leadingProperty": "Visit/DGA/DepotId"'/>
                    </customData>
                    <Text text="{i18n>Depot}"/>
                </Column>
                 <Column hAlign="Begin">
                    <customData>
                        <core:CustomData key="p13nData" value='\{"columnKey": "Visit/TaskType/Name"}, "leadingProperty": "Visit/TaskType/Name"'/>
                    </customData>
                    <Text text="{i18n>VisitType}"/>
                </Column>
                 <Column hAlign="Begin">
                    <customData>
                        <core:CustomData key="p13nData" value='\{"columnKey": "Visit/Status"}, "leadingProperty": "Visit/Status"'/>
                    </customData>
                    <Text text="{i18n>Status}"/>
                </Column>

            </columns>
            <items>
                <ColumnListItem press="onListItemPress" type="Navigation">
                    <cells>
                         <Text text="{Visit/Id}"/>
                         <Text text="{path:'Visit/Date',type:'sap.ui.model.odata.type.DateTime',formatOptions:{pattern:'dd/MM/YYYY'}}"/>
                        <Text text="{Visit/DGA/GivenName}"/>
                        <Text text="{Visit/DGA/Mobile}"/>
                         <Text text="{Visit/DGA/Zone}"/>
                         <Text text="{Visit/DGA/DivisionId}"/>
                         <Text text="{= ${Visit/DGA/DepotId} === null ? 'NA' : ${Visit/DGA/DepotId}}"/>
                         <Text text="{Visit/TaskType/Name}"/>
                         <ObjectStatus text="{Visit/Status}" state="{= ${Visit/Status} === 'Completed' ? 'Success' : ${Visit/Status} === 'Rejected' ? 'Error' : 'Warning'}"/>
                    </cells>
                </ColumnListItem>
            </items>
        </Table>
    </smartTable:SmartTable>
</core:FragmentDefinition>
