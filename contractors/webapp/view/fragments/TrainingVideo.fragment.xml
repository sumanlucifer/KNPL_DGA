<core:FragmentDefinition xmlns="sap.m" xmlns:smartTable="sap.ui.comp.smarttable" xmlns:core="sap.ui.core">
    <smartTable:SmartTable requestAtLeastFields="Id"  initialNoDataText="{i18n>tableNoDataText}" id="smrtVideoTraining" width="100%" editable="false" entitySet="PainterLearningPointHistorySet" tableType="ResponsiveTable" beforeRebindTable="onRebindVideoTable" showRowCount="true" useExportToExcel="false" useVariantManagement="false" useTablePersonalisation="true" demandPopin="true" enableAutoBinding="false" placeToolbarInTable="true" persistencyKey="OfflineTrainingSmartTableKey" ignoreFromPersonalisation="CreatedBy,IsArchived,IsSelected,UpdatedAt,UpdatedBy,LearningId,PainterId,Percentage">
        <Table growing="true" growingThreshold="10" growingScrollToLoad="false"  noDataText="{i18n>tableNoDataText}" >
            <columns>
                <Column hAlign="Begin">
                    <customData>
                        <core:CustomData key="p13nData" value='\{"columnKey": "LearningDetails/Title", "leadingProperty": "LearningDetails/Title", "columnIndex": 0 ,"sortProperty": "LearningDetails/Title","filterProperty": "LearningDetails/Title"}'/>
                    </customData>
                    <Text text="{i18n>trainingTitle}"/>
                </Column>
               
                <Column hAlign="Begin">
                    <customData>
                        <core:CustomData key="p13nData" value='\{"columnKey": "CreatedAt", "type":"date", "leadingProperty": "CreatedAt", "columnIndex": 1 ,"sortProperty": "CreatedAt","filterProperty": "CreatedAt"}'/>
                    </customData>
                    <Text text="{i18n>DateAndTime}"/>
                </Column>
                <Column hAlign="Begin">
                    <customData>
                        <core:CustomData key="p13nData" value='\{"columnKey": "SubmissionDate", "type":"date", "leadingProperty": "SubmissionDate", "columnIndex": 2 ,"sortProperty": "SubmissionDate","filterProperty": "SubmissionDate"}'/>
                    </customData>
                    <Text text="{i18n>trainingAttendance}"/>
                </Column>
                <Column hAlign="Begin">
                    <customData>
                        <core:CustomData key="p13nData" value='\{"columnKey": "RewardPoints", "leadingProperty": "RewardPoints", "columnIndex": 3 ,"sortProperty": "RewardPoints","filterProperty": "RewardPoints"}'/>
                    </customData>
                    <Text text="{i18n>trainingPoints}"/>
                </Column>
                <Column hAlign="Begin">
                    <customData>
                        <core:CustomData key="p13nData" value='\{"columnKey": "LButton",  "columnIndex": 4 }'/>
                    </customData>
                    <Text text="{i18n>trainingQuestionaaire}"/>
                </Column>
                <Column hAlign="Begin">
                    <customData>
                        <core:CustomData key="p13nData" value='\{"columnKey": "VStatus",  "columnIndex": 5 }'/>
                    </customData>
                    <Text text="{i18n>Status}"/>
                </Column>


            </columns>
            <items>
                <ColumnListItem>
                    <cells>
                        <Text text="{LearningDetails/Title}"/>
                        <Text text="{path:'CreatedAt',type:'sap.ui.model.odata.type.DateTime',formatOptions:{pattern:'dd/MM/YYYY h:mm a'}}"/>
                        <Text text="{path:'SubmissionDate',type:'sap.ui.model.odata.type.DateTime',formatOptions:{pattern:'dd/MM/YYYY h:mm a'}}"/>
                          <Text text="{RewardPoints}"/>
                        <VBox>
                            <Button text="{i18n>ViewQuestion}" press="onViewQuestionaireLearning"/>
                        </VBox>
                    </cells>
                    <ObjectStatus text="{= ${RewardPoints}=== 0 ? 'Failure': 'Success'}"  state="{= ${RewardPoints}=== 0 ? 'Error' : 'Success'}"/>
                </ColumnListItem>
            </items>
        </Table>
    </smartTable:SmartTable>
</core:FragmentDefinition>
