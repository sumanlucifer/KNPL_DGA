<core:FragmentDefinition xmlns:smartTable="sap.ui.comp.smarttable"
    xmlns:html="http://www.w3.org/1999/xhtml"
    xmlns:smartForm="sap.ui.comp.smartform"
    xmlns:smartField="sap.ui.comp.smartfield"
    xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
    xmlns="sap.m"
    xmlns:l="sap.ui.layout"
    xmlns:f="sap.ui.layout.form"
    xmlns:core="sap.ui.core">
    <VBox width="100%">
        <Table id="Referral" updateFinished="onUpdateFinishedReferralTable" width="auto"  noDataText="{i18n>tableNoDataText}" growingScrollToLoad="false" growing="true" growingThreshold="10" busyIndicatorDelay="{oModelView>/tableBusyDelay}">
            <headerToolbar>
                <Toolbar>
                    <MessageStrip visible="{= ${oModelControl2>/ReferralMessage}.length > 0}" text="{oModelControl2>/ReferralMessage}" showIcon="true">
                    </MessageStrip>
                    <ToolbarSpacer/>
                    <SearchField width="20%" showSearchButton="true" search="onTablesSearch" value="{oModelControl2>/Search/Referral}"></SearchField>
                    <Button icon="sap-icon://add" text="{i18n>AddReferral}" type="Emphasized" press="onPressAddReferral" enabled="{=!${IsArchived} &amp;&amp; ${ActivationStatus}!=='DEACTIVATED' }"/>
                </Toolbar>
            </headerToolbar>
            <columns>
                <Column>
                    <Text text="{i18n>Name}"/>
                </Column>
                <Column>
                    <Text text="{i18n>ReferralMobileNumber}"/>
                </Column>
                <Column>
                    <Text text="{i18n>EmailId}"/>
                </Column>
                <Column>
                    <Text text="{i18n>DateAndTime}"/>
                </Column>
                <Column>
                    <Text text="{i18n>OnBoardingStatus}"/>
                </Column>
                <Column>
                    <Text text="{i18n>PointsReceived}"/>
                </Column>
            </columns>
            <dependents>
                <ColumnListItem id="ReferralTableDependent" press="onListItemPress">
                    <cells>
                        <Text text="{ReferralName}"/>
                        <Text text="{ReferralMobile}"/>
                        <Text text="{ReferralEmail}"/>
                        <Text text="{path:'CreatedAt',type:'sap.ui.model.type.Date',formatOptions:{pattern:'dd/MM/YYYY h:mm a'}}"/>
                        <Text text="{path:'ReferralStatus',formatter:'.fmtLowerCase'}"/>
                        <Text text="{= ${ReferralStatus}==='PENDING'? '-' : ${RewardPoints} }"/>
                    </cells>
                </ColumnListItem>
            </dependents>
        </Table>
    </VBox>
</core:FragmentDefinition>