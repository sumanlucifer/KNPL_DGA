<core:FragmentDefinition xmlns="sap.m"
    xmlns:core="sap.ui.core">
    <Dialog resizable="true" contentWidth="50%" contentHeight="50%" class="sapUiContentPadding" showHeader="false">
        <customHeader>
            <Toolbar>
                <Title text="{i18n>QuestionDetails}"/>
            </Toolbar>
        </customHeader>
        <content>
            <VBox id="idDisplayQueDetailsBox" visible="{= ${LocalViewModel>/VisibleSaveQueDetails}=== true? false:true}">
                <Text text="{QuestionDetailModel>/Question}" class="sapUiTinyMarginBottom"/>
                <FlexBox items="{path: 'QuestionDetailModel>/AnswerOptions/results', sorter: {path: 'Id', descending: false}}" direction="Column">
                    <items>
                        <HBox class="sapUiTinyMarginBottom">
                            <core:Icon src="sap-icon://circle-task-2" size="5px" class="sapUiTinyMarginBeginEnd" useIconTooltip="false" visible="{= ${QuestionDetailModel>MasterInputControlTypes/Type} === 'Radio Button' || ${QuestionDetailModel>MasterInputControlTypes/Type} === 'Check Box' ? true : false}"/>
                            <Text text="{QuestionDetailModel>Answer}" visible="{= ${QuestionDetailModel>MasterInputControlTypes/Type} === 'Radio Button' || ${QuestionDetailModel>MasterInputControlTypes/Type} === 'Check Box' ? true : false}"/>
                            <RatingIndicator editable="false" visible="{= ${QuestionDetailModel>MasterInputControlTypes/Type} === 'Rating' ? true : false}" value="{QuestionDetailModel>Answer}"/>
                        </HBox>
                    </items>
                </FlexBox>

                <FlexBox visible="{= ${QuestionDetailModel>/AnswerOptions/results/0/MasterInputControlTypes/Type} === 'Text Box' ? true : false}" items="{QuestionDetailModel>/AnswerOptions/results}" direction="Column" justifyContent="Center">
                    <items>
                        <TextArea value="{QuestionDetailModel>Answer}" valueState="None" rows="7" cols="130" showExceededText="true" maxLength="300" valueLiveUpdate="true" liveChange="fnHandleTextAreaLiveChange" enabled="false"/>
                    </items>
                </FlexBox>
            </VBox>

            <VBox id="idEditQueDetailsBox" visible="{LocalViewModel>/VisibleSaveQueDetails}">
                <Label text="{i18n>Question}" required="true"/>
                <Input value="{QuestionDetailModel>/Question}" change="onQuestionChange" class="sapUiTinyMarginBottom" maxLength="250" liveChange="onQuestionTextChange"/>

                <FlexBox items="{path: 'QuestionDetailModel>/AnswerOptions/results', sorter: {path: 'Id', descending: false}}" direction="Column" justifyContent="Center">
                    <items>
                        <Toolbar class="sapUiTinyMarginBottom" style="Clear" visible="{= ${QuestionDetailModel>MasterInputControlTypes/Type} === 'Text Box' ? false : true}">
                            <core:Icon src="sap-icon://circle-task-2" size="5px" class="sapUiTinyMarginBeginEnd" useIconTooltip="false" visible="{= ${QuestionDetailModel>MasterInputControlTypes/Type} === 'Radio Button' || ${QuestionDetailModel>MasterInputControlTypes/Type} === 'Check Box' ? true : false}"/>
                            <Input value="{QuestionDetailModel>Answer}" visible="{= ${QuestionDetailModel>MasterInputControlTypes/Type} === 'Radio Button' || ${QuestionDetailModel>MasterInputControlTypes/Type} === 'Check Box' ? true : false}" maxLength="100" class="zZeroPadding" liveChange="onAnswerOptionTextChange"/>
                            <RatingIndicator iconSize="32px" visible="{= ${QuestionDetailModel>MasterInputControlTypes/Type} === 'Rating' ? true : false}" value="{QuestionDetailModel>Answer}" editable="false"/>
                        </Toolbar>
                    </items>
                </FlexBox>

                <FlexBox visible="{= ${QuestionDetailModel>/AnswerOptions/results/0/MasterInputControlTypes/Type} === 'Text Box' ? true : false}" items="{QuestionDetailModel>/AnswerOptions/results}" direction="Column" justifyContent="Center">
                    <items>
                        <TextArea value="{QuestionDetailModel>Answer}" valueState="None" rows="7" cols="130" showExceededText="true" maxLength="300" valueLiveUpdate="true" liveChange="fnHandleTextAreaLiveChange" enabled="false"/>
                    </items>
                </FlexBox>
            </VBox>
        </content>
        <buttons>
            <Button text="{i18n>Close}" press="onCloseQuestionDetails"/>
            <Button text="{i18n>Edit}" type="Emphasized" visible="{= ${LocalViewModel>/VisiblePageFooter} === true || ${LocalViewModel>/VisibleSaveQueDetails} === true ? false:true}" press="onEditQueDetailsPress"/>
            <Button text="{i18n>Save}" visible="{LocalViewModel>/VisibleSaveQueDetails}" type="Emphasized" press="onSaveEditQueDetailsPress"/>
        </buttons>
    </Dialog>
</core:FragmentDefinition>