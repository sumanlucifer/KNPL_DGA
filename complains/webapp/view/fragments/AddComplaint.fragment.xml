<core:FragmentDefinition xmlns:unified="sap.ui.unified" xmlns:upload="sap.m.upload" xmlns:html="http://www.w3.org/1999/xhtml" xmlns:smartForm="sap.ui.comp.smartform" xmlns:smartField="sap.ui.comp.smartfield" xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1" xmlns="sap.m" xmlns:l="sap.ui.layout" xmlns:f="sap.ui.layout.form" xmlns:core="sap.ui.core">
    <VBox id="idVbx" width="100%">
        <f:SimpleForm class="addForm" id="SimpleFormChange480_12120Dual" editable="true" layout="ResponsiveGridLayout" title="{i18n>RaiseComplaint}" labelSpanXL="12" labelSpanL="12" labelSpanM="12" labelSpanS="12" adjustLabelSpan="false" emptySpanXL="0" emptySpanL="0" emptySpanM="0" emptySpanS="0" columnsXL="2" columnsL="2" columnsM="2" singleContainerFullSize="false">
            <f:content>
                <core:Title text="{i18n>CustomerDetails}" />
                <Label text="{i18n>MobileNumber}" />
                <Input required="true" value="{oViewModel>/ConsumerMobileNo}"
                    showValueHelp="true" valueHelpOnly="true" enabled="{= ${oViewModel>/LeadCustomer} }"
                    valueHelpRequest="onCustomerValueHelpRequest" change="onCustomerInputChange"/>
                <Label text="{i18n>CustomerName}" />
                <Text text="{oViewModel>/ConsumerName}" />

                <core:Title text="" />
                <Label text="{i18n>Add} {i18n>NewCustomer}" />
                <Input required="true" value="{oViewModel>/NewConsumerName}" liveChange="onCustomerNameInput" change="onNewCustomerInputChange" enabled="{oViewModel>/newCustomer}" />

                <Label text="{i18n>Add} {i18n>NewPhoneNo}" />
                <Input required="true" value="{oViewModel>/NewConsumerMobileNo}" type="Number" liveChange="onCustomerNumberInput" change="onNewCustomerInputChange" enabled="{oViewModel>/newCustomer}" />
            </f:content>
        </f:SimpleForm>

        <f:SimpleForm class="addForm" editable="true" layout="ResponsiveGridLayout" title=" " labelSpanXL="12" labelSpanL="12" labelSpanM="12" labelSpanS="12" adjustLabelSpan="false" emptySpanXL="0" emptySpanL="0" emptySpanM="0" emptySpanS="0" columnsXL="2" columnsL="2" columnsM="2" singleContainerFullSize="false">
            <f:content>
                <core:Title text="{i18n>worklistTitle}" />

                <Label text="{i18n>LeadStage}" labelFor="GroupA" />
                <RadioButtonGroup id="GroupA" enabled="false" columns="2" width="100%" selectedIndex="{oViewModel>/LeadStage}" select="onRadioButtonSelection" >
                    <RadioButton text="{i18n>Ongoing}"/>
                    <RadioButton text="{i18n>Completed}" />
                </RadioButtonGroup>

                <Label text="{i18n>ComplaintsTypes}" labelFor="GroupB" />
                <RadioButtonGroup id="GroupB" buttons="{path:'/MasterComplainTypes', filters: [ {path:'IsArchived',operator:'EQ',value1:false} ]}" 
                    columns="2" width="100%" select="onRadioButtonSelection" >
                    <RadioButton text="{ComplaintType}"/>
                </RadioButtonGroup>

                <Label text="{i18n>Issue}" required="true" />
                <List
                    id="idList"
                    items="{path:'/MasterComplaintSubtypes', parameters:{expand:'ConsumersSelectedIssuesRequests' }}"
                    selectionChange=".onSelectionChange"
                    mode="MultiSelect"
                    growing="true"
                    growingThreshold="50"
                    includeItemInSelection="true">
                    <infoToolbar>
                        <OverflowToolbar visible="false" id="idInfoToolbar">
                            <Label id="idFilterLabel" />
                        </OverflowToolbar>
                    </infoToolbar>
                    <StandardListItem
                        title="{ComplaintSubtype}" />
                </List>
                
                <Label required="true" text="{i18n>ComplainDescription}"  />
                <VBox renderType="Bare" >
                    <TextArea maxLength="300" required="true" value="{path:'oViewModel>/Comments',type:'sap.ui.model.type.String',constraints:{minLength:1, maxLength: 300}}" rows="4" />
                    <Label  text="{i18n>TxtMaxLength}" />
                </VBox>

                <core:Title text="{i18n>DGADetails}" />
                <Label text="{i18n>PrimaryMobileNo}" />
                <Input required="true" enabled="{= ${oViewModel>/isDGAActive} }" valueHelpOnly="true" showValueHelp="true" valueHelpRequest="onDGAValueHelpRequest" value="{path:'oViewModel>/DGA/PrimaryMobileNo', type : 'sap.ui.model.type.String', constraints:{ minLength:1 } }" />
                <Label text="{i18n>DGAName}" />
                <Text  text="{oViewModel>/DGA/DGAName}" />
                <Label text="{i18n>DGAID}" />
                <Text text="{oViewModel>/DGA/DGAID}" />
                <!-- Zone Division Depot Info -->
                <Label text="{i18n>Zone}" />
                <Text text="{oViewModel>/DGA/Zone}" />
                <Label text="{i18n>Division}" />
                <Text text="{oViewModel>/DGA/Division}" />
                <Label text="{i18n>Depot}" />
                <Text text="{= ${oViewModel>/DGA/Depot} === null ? 'NA' : ${oViewModel>/DGA/Depot} }" />
            </f:content>
        </f:SimpleForm>
    </VBox>
</core:FragmentDefinition>